# Observability

## Observability Objective

The primary objective of this repository is to enable the capture, analysis, and creation of metrics, traces, and logs for various actions, transactions, and relevant data generated by applications. The project focuses on implementing robust observability features, including buffer flushing, graceful shutdown, and data enrichment.

## Solutions

### Azure Monitor / Application Insights

- **Azure Monitor:** An observability platform that offers tools for ingesting metrics, logs, and traces from applications. Developed by Microsoft, it integrates well with Microsoft applications. While not conforming to the OTLP data structures and naming conventions, it provides a comprehensive observability solution.

- **Application Insights:** A feature of Azure Monitor that extends application performance management (APM) and live web app monitoring.

### OTLP: OpenTelemetry Protocol

The OTLP (OpenTelemetry Protocol) specification defines the encoding, transport, and delivery mechanism for telemetry data between various sources, collectors, and backends. Although this solution is being considered for the future, its implementation for .NET is currently postponed due to ongoing development.

## AppSettings Configuration

Configure the following settings in the `appsettings.json` file:

**ApplicationInsights:**
- `ConnectionString`: Add your Application Insights Instrumentation Key.

**ApplicationInsightsSamplingOptions:**
- `IncludedTypes`: Configure the types of telemetry data to include.
- `ExcludedTypes`: Configure the types of telemetry data to exclude.
- `MaxTelemetryItemsPerSecond`: Set the maximum telemetry items per second.

**ObservabilityGenericOptions:**
- `CloudRoleName`: Add your application's name for enrichment.
- `ConsoleOuputEnabled`: Enable or disable console output.
- `DefaultConsoleOutputLogLevel`: Set the default console output log level.

**ObservabilityCustomLogging:**
- `IsEnabled`: Enable or disable custom logging.

**LogAnalyticsCustomTables:**
- Configure custom log tables with the following details:
  - `TableName`: Add your custom log table name.
  - `SharedKey`: Add your custom log shared key.
  - `WorkSpaceID`: Add your custom log workspace ID.
  - `BufferFlushMaxSize`: Assign the buffer flush size.
  - `PopulateCustomLog`: Enable or disable custom log population.
---

**Note:** Ensure to configure the `appsettings.json` file with accurate values for successful integration and observability features.
